{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nconst DEFAULT_SETTINGS = {\n  work: 25 * 60,\n  shortBreak: 5 * 60,\n  longBreak: 15 * 60\n};\nexport const useTimer = () => {\n  _s();\n  const [settings, setSettings] = useState(JSON.parse(localStorage.getItem('timerSettings')) || DEFAULT_SETTINGS);\n  const [time, setTime] = useState(settings.work);\n  const [isActive, setIsActive] = useState(false);\n  const [type, setType] = useState('work');\n  const [showConfetti, setShowConfetti] = useState(false);\n  useEffect(() => {\n    localStorage.setItem('timerSettings', JSON.stringify(settings));\n  }, [settings]);\n  useEffect(() => {\n    let interval;\n    if (isActive && time > 0) {\n      interval = setInterval(() => {\n        setTime(time => time - 1);\n      }, 1000);\n    } else if (time === 0) {\n      handleTimerComplete();\n    }\n    return () => clearInterval(interval);\n  }, [isActive, time]);\n  const handleTimerComplete = () => {\n    setIsActive(false);\n    setShowConfetti(true);\n\n    // Show notification\n    toast.success(`${type.charAt(0).toUpperCase() + type.slice(1)} session completed!`, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true\n    });\n\n    // Hide confetti after 5 seconds\n    setTimeout(() => setShowConfetti(false), 5000);\n  };\n  const changeType = newType => {\n    setIsActive(false);\n    setType(newType);\n    setTime(settings[newType]);\n  };\n  const updateSettings = newSettings => {\n    setSettings(newSettings);\n    setTime(newSettings[type]);\n  };\n  return {\n    time,\n    isActive,\n    type,\n    settings,\n    showConfetti,\n    setTime,\n    setIsActive,\n    setType,\n    changeType,\n    updateSettings\n  };\n};\n_s(useTimer, \"SebzNyC/Ug8fY66W/xi/VijUoU8=\");","map":{"version":3,"names":["useState","useEffect","toast","DEFAULT_SETTINGS","work","shortBreak","longBreak","useTimer","_s","settings","setSettings","JSON","parse","localStorage","getItem","time","setTime","isActive","setIsActive","type","setType","showConfetti","setShowConfetti","setItem","stringify","interval","setInterval","handleTimerComplete","clearInterval","success","charAt","toUpperCase","slice","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","setTimeout","changeType","newType","updateSettings","newSettings"],"sources":["/Users/HariPrasad.Renganath/Documents/Temp Projects/Pomodoro clock/pomodoro-timer/src/hooks/useTimer.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\n\nconst DEFAULT_SETTINGS = {\n  work: 25 * 60,\n  shortBreak: 5 * 60,\n  longBreak: 15 * 60\n};\n\nexport const useTimer = () => {\n  const [settings, setSettings] = useState(\n    JSON.parse(localStorage.getItem('timerSettings')) || DEFAULT_SETTINGS\n  );\n  const [time, setTime] = useState(settings.work);\n  const [isActive, setIsActive] = useState(false);\n  const [type, setType] = useState('work');\n  const [showConfetti, setShowConfetti] = useState(false);\n\n  useEffect(() => {\n    localStorage.setItem('timerSettings', JSON.stringify(settings));\n  }, [settings]);\n\n  useEffect(() => {\n    let interval;\n    if (isActive && time > 0) {\n      interval = setInterval(() => {\n        setTime((time) => time - 1);\n      }, 1000);\n    } else if (time === 0) {\n      handleTimerComplete();\n    }\n    return () => clearInterval(interval);\n  }, [isActive, time]);\n\n  const handleTimerComplete = () => {\n    setIsActive(false);\n    setShowConfetti(true);\n    \n    // Show notification\n    toast.success(`${type.charAt(0).toUpperCase() + type.slice(1)} session completed!`, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n    });\n\n    // Hide confetti after 5 seconds\n    setTimeout(() => setShowConfetti(false), 5000);\n  };\n\n  const changeType = (newType) => {\n    setIsActive(false);\n    setType(newType);\n    setTime(settings[newType]);\n  };\n\n  const updateSettings = (newSettings) => {\n    setSettings(newSettings);\n    setTime(newSettings[type]);\n  };\n\n  return { \n    time, \n    isActive, \n    type, \n    settings,\n    showConfetti,\n    setTime, \n    setIsActive, \n    setType,\n    changeType,\n    updateSettings\n  };\n};"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,KAAK,QAAQ,gBAAgB;AAEtC,MAAMC,gBAAgB,GAAG;EACvBC,IAAI,EAAE,EAAE,GAAG,EAAE;EACbC,UAAU,EAAE,CAAC,GAAG,EAAE;EAClBC,SAAS,EAAE,EAAE,GAAG;AAClB,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CACtCW,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,IAAIX,gBACvD,CAAC;EACD,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAACS,QAAQ,CAACL,IAAI,CAAC;EAC/C,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACmB,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,CAAC,MAAM,CAAC;EACxC,MAAM,CAACqB,YAAY,EAAEC,eAAe,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EAEvDC,SAAS,CAAC,MAAM;IACdY,YAAY,CAACU,OAAO,CAAC,eAAe,EAAEZ,IAAI,CAACa,SAAS,CAACf,QAAQ,CAAC,CAAC;EACjE,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEdR,SAAS,CAAC,MAAM;IACd,IAAIwB,QAAQ;IACZ,IAAIR,QAAQ,IAAIF,IAAI,GAAG,CAAC,EAAE;MACxBU,QAAQ,GAAGC,WAAW,CAAC,MAAM;QAC3BV,OAAO,CAAED,IAAI,IAAKA,IAAI,GAAG,CAAC,CAAC;MAC7B,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,MAAM,IAAIA,IAAI,KAAK,CAAC,EAAE;MACrBY,mBAAmB,CAAC,CAAC;IACvB;IACA,OAAO,MAAMC,aAAa,CAACH,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACR,QAAQ,EAAEF,IAAI,CAAC,CAAC;EAEpB,MAAMY,mBAAmB,GAAGA,CAAA,KAAM;IAChCT,WAAW,CAAC,KAAK,CAAC;IAClBI,eAAe,CAAC,IAAI,CAAC;;IAErB;IACApB,KAAK,CAAC2B,OAAO,CAAC,GAAGV,IAAI,CAACW,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGZ,IAAI,CAACa,KAAK,CAAC,CAAC,CAAC,qBAAqB,EAAE;MAClFC,QAAQ,EAAE,WAAW;MACrBC,SAAS,EAAE,IAAI;MACfC,eAAe,EAAE,KAAK;MACtBC,YAAY,EAAE,IAAI;MAClBC,YAAY,EAAE,IAAI;MAClBC,SAAS,EAAE;IACb,CAAC,CAAC;;IAEF;IACAC,UAAU,CAAC,MAAMjB,eAAe,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC;EAChD,CAAC;EAED,MAAMkB,UAAU,GAAIC,OAAO,IAAK;IAC9BvB,WAAW,CAAC,KAAK,CAAC;IAClBE,OAAO,CAACqB,OAAO,CAAC;IAChBzB,OAAO,CAACP,QAAQ,CAACgC,OAAO,CAAC,CAAC;EAC5B,CAAC;EAED,MAAMC,cAAc,GAAIC,WAAW,IAAK;IACtCjC,WAAW,CAACiC,WAAW,CAAC;IACxB3B,OAAO,CAAC2B,WAAW,CAACxB,IAAI,CAAC,CAAC;EAC5B,CAAC;EAED,OAAO;IACLJ,IAAI;IACJE,QAAQ;IACRE,IAAI;IACJV,QAAQ;IACRY,YAAY;IACZL,OAAO;IACPE,WAAW;IACXE,OAAO;IACPoB,UAAU;IACVE;EACF,CAAC;AACH,CAAC;AAAClC,EAAA,CAlEWD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}